import {
    Widget
} from '@phosphor/widgets';


export
class Header extends Widget {
    static createNode(): HTMLElement {
        let node = document.createElement('div');
        node.classList.add('header');
        let a = document.createElement('a')
        a.href = '/';

        let h = document.createElement('img');
        h.src = "data:image/png;base64,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";
        a.appendChild(h)
        node.appendChild(a);

        let username = document.createElement('span');
        username.textContent = (document as any).user;
        username.classList.add('username');

        /* icons */
        let light = document.createElement('div');
        light.id = 'lighticon';
        light.classList.add('active-icon');
        document.body.classList.add('light');

        light.onclick = () => {
            document.body.classList.remove('dark');
            document.body.classList.add('light');
            dark.classList.remove('active-icon');
            light.classList.add('active-icon');
            for(let c of (document.getElementsByClassName('PSPContainer-dark') as any as HTMLElement[])){
                c.classList.add('PSPContainer');
                c.classList.remove('PSPContainer-dark');
            }
        }

        let dark = document.createElement('div');
        dark.id = 'darkicon';
        dark.onclick = () => {
            document.body.classList.remove('light');
            document.body.classList.add('dark');
            dark.classList.add('active-icon');
            light.classList.remove('active-icon');
            for(let c of (document.getElementsByClassName('PSPContainer') as any as HTMLElement[])){
                c.classList.remove('PSPContainer');
                c.classList.add('PSPContainer-dark');
            }
        }

        node.appendChild(light);
        node.appendChild(dark);
        node.appendChild(username);
        return node;
    }

    constructor(){
        super({ node: Header.createNode() });
        this.setFlag(Widget.Flag.DisallowLayout);
        this.title.closable = false;
        this.node.id = 'appheader';
    }
}